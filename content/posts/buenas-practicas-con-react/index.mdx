---
title: Buenas pr치cticas con React
date: 2022-05-29
description: En este art칤culo veremos cinco consejos para tener nuestro c칩digo React lo mejor posible
tags:
  - reactjs
  - tips
  - good-practices
banner: ./simone-hutsch-8FUD82rlJxs-unsplash.jpg
slug: /blog/buenas-practicas-con-react
---

Cuando aprendes **React** de forma autodidacta puedes encontrarte con muchas dudas a la hora de c칩mo organizar tu c칩digo o incluso c칩mo declarar las funciones.
Esto es porque React (o m치s bien JavaScript) es tan flexible que te permite abordar el mismo problema de much칤simas formas, pero a veces puede que la forma en la que se nos ocurre no sea precisamente la m치s adecuada.

En este post compartir칠 **cinco consejos** que me ayudaron en el proceso de aprendizaje y que nos hace el desarrollo con React mucho m치s satisfactorio.

### Megacomponentes

Muchas veces podemos pecar de crear componentes muy grandes o complejos, por lo que perderemos gran parte de reusabilidad, refactorizaci칩n y simplicidad a la hora de testing.

Por ello la mejor opci칩n es modularizar lo m치ximo posible nuestros componentes y simplificarlos de tal manera que podamos aprovechar su estructura para principios [SOLID](https://es.wikipedia.org/wiki/SOLID).

Aunque es un caso muy simple podemos ver un ejemplo de refactorizaci칩n con el siguiente c칩digo.

``` tsx
const NavBar = (props) => {
  return (
    <div className="nav">
      <div className="logo">Logo</div>
      <ul>
        <li>
          <a href="/" className="nav-link">
            Home
          </a>
        </li>
        <li>
          <a href="/contact" className="nav-link">
            Contact Us
          </a>
        </li>
      </ul>
      <form className="search-form">
        <input
          className="search-input"
          type="search"
          placeholder="Search"
          aria-label="Search"
        />
        <button className="search-button" type="submit">
          Search
        </button>
      </form>
    </div>
  )
}

export default NavBar
```

El c칩digo representa una barra de navegaci칩n la cual podemos separar en tres componentes principales: *Logo*, *Lista* y *Formulario de B칰squeda*

Ahora vamos a refactorizar cada uno de ellos en un componente.

``` tsx {1-3,7-11}
import Logo from "./Logo";
import NavList from "./NavList";
import SearchForm from "./SearchForm";

const NavBar = (props) => {
  return (
    <>
      <Logo />
      <NavList />
      <SearchForm />
    </>
  )
}

export default NavBar
```
Mucho mejor, 쯨erdad?

### Estructura

No es raro al ir desarrollando con React ir creando componentes esparcidos en el proyecto sin organizaci칩n ninguna, pero a la larga, a medida que crece tu proyecto, puedes encontrarte en medio de algo bastante ca칩tico.

Una de las pr치cticas que m치s se siguen en React para medianos o grandes proyectos es organizar los componentes por carpetas.

Esto nos permite organizar en una misma carpeta un componente, con sus estilos, testing, documentaci칩n, etc.

![Estructura de archivos](./files.png)

Si nos fijamos en las carpetas de los componentes, por ejemplo del componente **NavBar**, podemos ver que tiene un archivo `index.tsx` y un archivo `NavBar.tsx`.

En el archivo `index.tsx` podemos alojar todo nuestro componente para importarlo luego desde la ruta `./NavBar`, el problema de esto es que en nuestro editor tendremos muchas pesta침as `index.tsx`, lo cual nos va a provocar mucha confusi칩n al buscar entre nuestros componentes.

Una soluci칩n a esto es crear un archivo con el nombre del componente, como puede ser `NavBar.tsx`, para que contenga toda la l칩gica del mismo.

Luego en `index.tsx` exportamos este componente para poder importarlo de la misma forma que siempre con la ruta `./NavBar`, si no tenemos este archivo index tendr칤amos que importarlo con la ruta `./NavBar/NavBar`, menos elegante para mi gusto.

```tsx:title=src/NavBar/NavBar.tsx
import * as React from "react"
import { useState } from "react"
import Logo from "../Logo"
import NavList from "../NavList"
import SearchForm from "../SearchForm"

const Button = ({ onClick, count }, {}) => {
  return <button onClick={onClick}>counter {count}</button>
}

const NavBar = (props) => {
  const [count, setCount] = useState(0)

  const handleClick = () => setCount(count + 1)

  return (
    <>
      <Logo />
      <NavList />
      <SearchForm />
      <Button onClick={handleClick} count={count} />
    </>
  )
}

export default NavBar
```

```tsx:title=src/NavBar/index.tsx
export { default } from "./NavBar"
```

### Rendimiento

Sin pretenderlo, podemos encontrarnos con un **fallo de optimizaci칩n** bastante com칰n, como puede ser renderizar un componente hijo cada vez que su padre se actualiza a trav칠s de una funci칩n.

Esto puede provocar problemas de rendimiento y comportamientos impredecibles en nuestras aplicaciones.

Podemos ver la comparaci칩n con los siguientes ejemplos.

``` tsx {1,7-13,20}
import { useState } from "react"
import Logo from "./Logo"
import NavList from "./NavList"
import SearchForm from "./SearchForm"

const NavBar = (props) => {
  const [count, setCount] = useState(0)

  const handleClick = () => setCount(count + 1)

  const Button = () => {
    return <button onClick={handleClick}>counter {count}</button>
  }

  return (
    <>
      <Logo />
      <NavList />
      <SearchForm />
      <Button />
    </>
  )
}

export default NavBar
```

Una forma de solventarlo es apartando este componente hijo y pasar como propiedad la funci칩n.

``` tsx {6-8,20}
import { useState } from "react"
import Logo from "./Logo"
import NavList from "./NavList"
import SearchForm from "./SearchForm"

const Button = ({ onClick, count }) => {
  return <button onClick={onClick}>counter {count}</button>
}

const NavBar = (props) => {
  const [count, setCount] = useState(0)

  const handleClick = () => setCount(count + 1)

  return (
    <>
      <Logo />
      <NavList />
      <SearchForm />
      <Button onClick={handleClick} count={count} />
    </>
  )
}

export default NavBar
```

춰Listo! Con este truco tendremos aplicaciones mucho m치s eficientes.

### Demasiados *divs*

Seguramente te hayas topado con este error desarrollando en React:

![Error "parent element"](./error-parent-element.png)

Y es que para renderizar un componente, este debe de estar contenido en un s칩lo padre.

De forma intuitiva plantamos un `<div>...</div>` y listo, pero con esto tendr칤amos en nuestro proyecto muchos *divs* innecesarios, lo que puede provocar problemas de accesibilidad y en estilos CSS.

Para solucionar esto podemos hacer uso del componente `<React.Fragment>...</React.Fragment>` o `<>...</>`.

``` tsx {2,7}
  return (
    <>
      <Logo />
      <NavList />
      <SearchForm />
      <Button onClick={handleClick} count={count} />
    </>
  )
```

### Spread Props

Otro truco de React es la **propagaci칩n de propiedades** o **spread props**, que ser칤a la alternativa a tener que escribir todas las propiedades de un componente uno a uno (que cuando son muchas hace da침o a la vista).

Esto s칩lo puede hacerse cuando el objeto que estamos pasando como par치metro tiene las mismas propiedades que el componente.

Como siempre, usaremos ejemplos muy simples con s칩lamente dos propiedades, pero podemos usar la imaginaci칩n y extrapolarlo a un componente con cincuenta.

Supongamos que en nuestro Logo queremos parametrizar un t칤tulo y un eslogan. En este ejemplo podr칤amos ver una asignaci칩n de propiedades tradicional.

``` tsx {1-4,8}
  const LogoData = {
    title: "Title",
    slogan: "slogan"
  }

  return (
    <>
      <Logo title={LogoData.title} slogan={LogoData.slogan}/>
      <NavList />
      <SearchForm />
      <Button onClick={handleClick} count={count} />
    </>
  )
```

Ahora veremos la alternativa con **spread props**.

``` tsx {8}
  const LogoData = {
    title: "Title",
    slogan: "slogan"
  }

  return (
    <>
      <Logo {...LogoData}/>
      <NavList />
      <SearchForm />
      <Button onClick={handleClick} count={count} />
    </>
  )
```
Imaginaros lo que nos ahorra esto para componentes con muchas propiedades.

Lo que s칤 es recomendable no abusar de esta t칠cnica, ya que al no tener las propiedades epxl칤citamente, podemos encontrarnos con problemas a la hora de revisar nuestro c칩digo. Por ello, mejor usarla s칩lo cuando la cantidad de propiedades justifique su uso.

### Fin

Con esto terminamos los cinco consejos que a toda persona que comienza con React le vendr치 de perlas.

Existen muchas utilidades y soluciones adem치s de las mencionadas, pero algunas requieren un conocimiento m치s avanzado y explicaciones m치s densas. Probablemente escribir칠 en un futuro sobre ellas.

游둤游낗

Foto de portada de [Simone Hutsch](https://unsplash.com/es/@heysupersimi) en [Unsplash](https://unsplash.com/)
